/*********************************************************************************************

Name : Pradip . S . Karmakar
Roll-No : 10
Class : MCA-2
Subject : Advanced Programming

**********************************************************************************************

Questions : Write a C program to create a ordered singly linked list & Display.
            
*********************************************************************************************/

#include<stdio.h>
#include<conio.h>
#include<stdlib.h>

// structure declaration
struct node{
    int data;
    struct node *next;
};

// ask_selection function will get the user option selected
int ask_selection();
void menu( struct node *, struct node * );
struct node * get_link_list( struct node *, struct node * );
int getinput();
void display(struct node *);


// main function
void main()
{
    struct node *new,*head = NULL;
    menu(new,head);
}


// menu function give user menu driven outlet
void menu(struct node *new,struct node *head)
{
    int selection = ask_selection();
    switch (selection)
    {
    case(1):
        head = get_link_list(new,head);
        menu(new,head);
    case(2):
        display(head);
        menu(new,head);    
    default:
        exit(0);
    }
}


// ask_selection function will get the user option selected
int ask_selection()
{
    int n;
    printf("\n 1 . Input Data To Link-List. \n 2 . Display The Link List. \n 3 . Exit. \n");
    scanf(" %d",&n);
    if( n > 0 && n < 4 )
    {
        return n;
    }
    else{
        printf("\n Wrong Selection Please Choose Correct Options. \n");
        ask_selection();
    }
}


// take user input for inserting data 
int getinput()
{
    int in;
    printf("\n Enter The Number : ");
    scanf("%d",&in);
    return in;
}


// insert user data into link list
struct node * get_link_list( struct node *new, struct node *head )
{
    int i,input = getinput();
    struct node *first,*last;
    new = (struct node *)malloc(sizeof(struct node));
    if(head == NULL || head->data >= input)
    {
        new->data = input;
        new->next = head;
        head = new;
    }
    else{
        first = head;
        while( first != NULL && first->data < input )
        {
            last = first;
            first = first->next;
        }
        new->data = input;
        new->next = first;
        last->next = new;
    }
    return head;
}


// display all data available in linklist
void display(struct node *head)
{
    struct node *temp;
    if(head == NULL)
    {
        printf("\nThere Is Nothing To Display.\n");
    }
    else
    {
        temp = head;
        printf("\nThe List is : \n");
        while(temp->next != NULL)
        {
            printf(" %d => ",temp->data);
            temp = temp->next;
        }
        printf(" %d \n",temp->data);
    }
}


/*********************************************************************************************

OUTPUT:

 1 . Input Data To Link-List.
 2 . Display The Link List.
 3 . Exit.
1

 Enter The Number : 4

 1 . Input Data To Link-List.
 2 . Display The Link List.
 3 . Exit.
1

 Enter The Number : 3

 1 . Input Data To Link-List.
 2 . Display The Link List.
 3 . Exit.
2

The List is :
 3 =>  4

 1 . Input Data To Link-List.
 2 . Display The Link List.
 3 . Exit.
1

 Enter The Number : 6

 1 . Input Data To Link-List.
 2 . Display The Link List.
 3 . Exit.
2

The List is :
 3 =>  4 =>  6

 1 . Input Data To Link-List.
 2 . Display The Link List.
 3 . Exit.
1

 Enter The Number : 5 

 1 . Input Data To Link-List.
 2 . Display The Link List.
 3 . Exit.
2

The List is :
 3 =>  4 =>  5 =>  6

 1 . Input Data To Link-List.
 2 . Display The Link List.
 3 . Exit.
1

 Enter The Number : 2

 1 . Input Data To Link-List.
 2 . Display The Link List.
 3 . Exit.
2

The List is :
 2 =>  3 =>  4 =>  5 =>  6

 1 . Input Data To Link-List.
 2 . Display The Link List.
 3 . Exit.
1

 Enter The Number : 8

 1 . Input Data To Link-List.
 2 . Display The Link List.
 3 . Exit.
2

The List is :
 2 =>  3 =>  4 =>  5 =>  6 =>  8

 1 . Input Data To Link-List.
 2 . Display The Link List.
 3 . Exit.
1

 Enter The Number : 7

 1 . Input Data To Link-List.
 2 . Display The Link List.
 3 . Exit.
2

The List is :
 2 =>  3 =>  4 =>  5 =>  6 =>  7 =>  8

 1 . Input Data To Link-List.
 2 . Display The Link List.
 3 . Exit.